import{i as g,S as E}from"./assets/vendor-BrddEoy-.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))l(t);new MutationObserver(t=>{for(const e of t)if(e.type==="childList")for(const o of e.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&l(o)}).observe(document,{childList:!0,subtree:!0});function s(t){const e={};return t.integrity&&(e.integrity=t.integrity),t.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?e.credentials="include":t.crossOrigin==="anonymous"?e.credentials="omit":e.credentials="same-origin",e}function l(t){if(t.ep)return;t.ep=!0;const e=s(t);fetch(t.href,e)}})();const L="49648507-d50f841642650241279dda9b6",S="https://pixabay.com/api/",w=9;function q(r,{onStart:n,onSuccess:s,onError:l,onFinally:t}){n(),fetch(b(r)).then(e=>{if(!e.ok)throw new Error;return e.json()}).then(e=>s(e.hits)).catch(e=>l()).finally(()=>t())}function b(r){return`${S}?key=${L}&q=${encodeURIComponent(r)}&per_page=${w}`}const P={not_found:"Sorry, no images matching search query",no_query:"Please, enter your search query",failed:"Sorry, images failed to fetch"};function f(r){g.error({message:P[r]})}const i=document.querySelector(".gallery"),_=["Likes","Views","Comments","Downloads"];function v(r){if(G(),r.length===0){f("not_found");return}r.forEach(n=>{i.append(O(n))}),C()}function C(){i.style.display="grid"}function x(){i.style.display="none"}function G(){for(;i.lastElementChild;)i.removeChild(i.lastElementChild)}function O(r){const{webformatURL:n,largeImageURL:s,tags:l}=r,t=document.createElement("li");t.classList.add("gallery-cart");const e=document.createElement("a");e.classList.add("gallery-link"),e.href=s;const o=document.createElement("img");o.classList.add("gallery-image"),o.src=n,o.title=l;const a=document.createElement("div");return a.classList.add("gallery-details"),_.forEach(m=>{const c=document.createElement("div");c.classList.add("detail");const d=document.createElement("p");d.classList.add("detail-title");const u=document.createElement("p");u.classList.add("detail-desc"),d.innerText=m,u.innerText=r[m.toLowerCase()],c.append(d),c.append(u),a.append(c)}),e.append(o),e.append(a),t.append(e),t}const y=document.querySelector(".loader-wrapper");function R(){y.style.display="flex"}function A(){y.style.display="none"}const p=document.querySelector(".form"),I=document.querySelector(".gallery"),h=new E(".gallery-link");p.addEventListener("submit",r=>{r.preventDefault();const n=new FormData(p).get("query");if(!n){f("no_query");return}q(n,{onStart:()=>{x(),R()},onSuccess:s=>{v(s),h.refresh()},onError:()=>f("failed"),onFinally:A})});I.addEventListener("click",()=>{h.open()});
//# sourceMappingURL=index.js.map
